{
  "ast": null,
  "code": "import _asyncToGenerator from \"C:/Users/pineapple/Documents/Actuality/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Posts } from 'src/app/controller/posts/posts';\nimport { Tools } from 'src/app/tools/tools';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../posts-components/likes/likes.component\";\nimport * as i4 from \"../../posts-components/comments/comments.component\";\nimport * as i5 from \"../../posts-components/carrousel-media/carrousel-media.component\";\nfunction SearchPostsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"span\", 5);\n    i0.ɵɵtext(2, \"signal_disconnected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.err);\n  }\n}\nfunction SearchPostsComponent_div_5_app_carrousel_media_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-carrousel-media\", 20, 21);\n    i0.ɵɵlistener(\"closed\", function SearchPostsComponent_div_5_app_carrousel_media_13_Template_app_carrousel_media_closed_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.open_media_carrousel = false);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cpost_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"media\", cpost_r2.post.images);\n  }\n}\nfunction SearchPostsComponent_div_5_div_14_div_1_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 27);\n  }\n  if (rf & 2) {\n    const img_or_video_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", img_or_video_r11, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction SearchPostsComponent_div_5_div_14_div_1_video_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"video\", 28);\n    i0.ɵɵelement(1, \"source\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const img_or_video_r11 = i0.ɵɵnextContext().$implicit;\n    const cpost_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵclassProp(\"not_play_video\", cpost_r2.post.images.length > 1);\n    i0.ɵɵproperty(\"preload\", cpost_r2.post.images.length == 1 ? \"none\" : \"\")(\"muted\", \"muted\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", img_or_video_r11, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction SearchPostsComponent_div_5_div_14_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, SearchPostsComponent_div_5_div_14_div_1_img_1_Template, 1, 1, \"img\", 25);\n    i0.ɵɵtemplate(2, SearchPostsComponent_div_5_div_14_div_1_video_2_Template, 2, 5, \"video\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const img_or_video_r11 = ctx.$implicit;\n    const img_i_r12 = ctx.index;\n    const cpost_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵstyleProp(\"grid-row\", img_i_r12 == 0 && cpost_r2.post.images.length > 2 ? \"1/\" + cpost_r2.post.images.length : \"\");\n    i0.ɵɵclassProp(\"img_cont\", cpost_r2.post.images.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !img_or_video_r11.includes(\".mp4\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", img_or_video_r11.includes(\".mp4\"));\n  }\n}\nfunction SearchPostsComponent_div_5_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function SearchPostsComponent_div_5_div_14_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const i_r3 = i0.ɵɵnextContext().index;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.openMediaCarrousel(i_r3, ctx_r19.carrousel_media));\n    });\n    i0.ɵɵtemplate(1, SearchPostsComponent_div_5_div_14_div_1_Template, 3, 6, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cpost_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵclassProp(\"media\", cpost_r2.post.images.length == 1)(\"only_vid_media\", cpost_r2.post.images.length == 1 && cpost_r2.post.images[0].includes(\".mp4\"))(\"media_mul\", cpost_r2.post.images.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", cpost_r2.post.images);\n  }\n}\nconst _c0 = function (a0) {\n  return [a0];\n};\nfunction SearchPostsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"div\", 9);\n    i0.ɵɵelement(4, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 11)(6, \"p\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 13);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 14);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 15);\n    i0.ɵɵtemplate(13, SearchPostsComponent_div_5_app_carrousel_media_13_Template, 2, 1, \"app-carrousel-media\", 16);\n    i0.ɵɵtemplate(14, SearchPostsComponent_div_5_div_14_Template, 2, 7, \"div\", 17);\n    i0.ɵɵelementStart(15, \"div\", 1)(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(18, \"app-likes\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"app-comments\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cpost_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", cpost_r2.user_of_post.image || ctx_r1.def_person_img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, \"/\" + cpost_r2.user_of_post.url_name));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(16, _c0, \"/\" + cpost_r2.user_of_post.url_name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cpost_r2.user_of_post.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(18, _c0, \"/\" + cpost_r2.user_of_post.url_name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" @\", cpost_r2.user_of_post.url_name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(20, _c0, \"/\" + cpost_r2.user_of_post.url_name));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.tools.formatDate(cpost_r2.post.date_added), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", cpost_r2.post.images.length > 0 && ctx_r1.open_media_carrousel && ctx_r1.actual_media_carrousel == i_r3 && (cpost_r2.post.images.length > 1 || cpost_r2.post.images.length == 1 && !cpost_r2.post.images[0].includes(\".mp4\")));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cpost_r2.post.images.length > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cpost_r2.post.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id_post\", cpost_r2.post.id)(\"cant_likes\", cpost_r2.likes.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id_post\", cpost_r2.post.id);\n  }\n}\nexport let SearchPostsComponent = /*#__PURE__*/(() => {\n  class SearchPostsComponent {\n    constructor(router, cd) {\n      this.router = router;\n      this.cd = cd;\n      this.tools = new Tools();\n      this.err = '';\n      this.cposts = [];\n      this.def_person_img = '../../assets/person.svg';\n      this.open_media_carrousel = false;\n      this.actual_media_carrousel = 0;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this.router.queryParams.subscribe({\n            next: function () {\n              var _ref = _asyncToGenerator(function* (param) {\n                if (param['by'] != undefined) _this.cposts = (yield Posts.getIfContains(param['by'])).reverse();\n              });\n              return function next(_x) {\n                return _ref.apply(this, arguments);\n              };\n            }()\n          });\n        } catch (e) {\n          _this.err = 'Something went wrong when get the posts.';\n        }\n      })();\n    }\n    openMediaCarrousel(pos, carrousel) {\n      this.open_media_carrousel = true;\n      this.actual_media_carrousel = pos;\n      if (carrousel != undefined) carrousel.open();\n      this.cd.detectChanges();\n    }\n  }\n  SearchPostsComponent.ɵfac = function SearchPostsComponent_Factory(t) {\n    return new (t || SearchPostsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  SearchPostsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchPostsComponent,\n    selectors: [[\"app-search-posts\"]],\n    decls: 6,\n    vars: 2,\n    consts: [[\"class\", \"error_posts err_cont\", 4, \"ngIf\"], [1, \"title\"], [1, \"all_posts\"], [\"class\", \"post\", 4, \"ngFor\", \"ngForOf\"], [1, \"error_posts\", \"err_cont\"], [1, \"material-symbols-outlined\"], [1, \"post\"], [1, \"all_content\"], [1, \"user\", \"ns\"], [1, \"img_cont\"], [\"alt\", \"\", 3, \"src\", \"routerLink\"], [1, \"names\"], [1, \"name\", 3, \"routerLink\"], [1, \"url_name\", 3, \"routerLink\"], [1, \"date\", 3, \"routerLink\"], [1, \"content\"], [3, \"media\", \"closed\", 4, \"ngIf\"], [\"class\", \"grid_media\", 3, \"media\", \"only_vid_media\", \"media_mul\", \"click\", 4, \"ngIf\"], [3, \"id_post\", \"cant_likes\"], [3, \"id_post\"], [3, \"media\", \"closed\"], [\"carrousel_media\", \"\"], [1, \"grid_media\", 3, \"click\"], [\"class\", \"grid_elem\", 3, \"img_cont\", \"grid-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"grid_elem\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"controls\", \"\", \"loop\", \"\", 3, \"not_play_video\", \"preload\", \"muted\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"], [\"controls\", \"\", \"loop\", \"\", 3, \"preload\", \"muted\"], [\"type\", \"video/mp4\", 3, \"src\"]],\n    template: function SearchPostsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SearchPostsComponent_div_0_Template, 5, 1, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"h3\");\n        i0.ɵɵtext(3, \"Posts:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵtemplate(5, SearchPostsComponent_div_5_Template, 20, 22, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.err);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cposts);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i1.RouterLink, i3.LikesComponent, i4.CommentsComponent, i5.CarrouselMediaComponent],\n    styles: [\".title[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:var(--txt_color);margin-bottom:10px}\"]\n  });\n  return SearchPostsComponent;\n})();",
  "map": null,
  "metadata": {},
  "sourceType": "module",
  "externalDependencies": []
}
